const { zenkaku2Hankaku, getTime, shuffle, pad2 } = require("../utils")

const BOOK_NAMES = [
  "ゼロから作るDeep Learning ―Pythonで学ぶディープラーニングの理論と実装",
  "徹底攻略ディープラーニングE資格エンジニア問題集 第2版 (徹底攻略シリーズ)",
  "最短突破 データサイエンティスト検定(リテラシーレベル)公式リファレンスブック",
  "日本統計学会公式認定 統計検定 2級 公式問題集[2018〜2021年]",
  "12誘導心電図よみ方マスター 基礎編 ―波形の異常から考える",
  "18歳のビッグバン",
  "1週間で学ぶ新生児学 第4版",
  "200万人の認知症対策 ―認知症という病気を知る―",
  "2015年 看護師国家試験対策 出題傾向がみえる 成人看護学 下",
  "Ca拮抗薬のすべて(第2版)",
  "CTG モニタリングテキスト",
  "Q＆A 知っておきたい 胃がん質問箱106",
  "Q＆A 知っておきたい モルヒネと緩和ケア質問箱101",
  "アヒルと鴨のコインロッカー",
  "陽気なギャングが地球を回す",
  "空飛ぶタイヤ",
  "葉桜の季節に君を想うということ",
  "むかし僕が死んだ家",
  "麦の海に沈む果実",
  "配達される女　（御茶ノ水警察署シリーズ）",
  "ゼロの焦点",
  "戻り川心中",
]

module.exports = () => {

  const {
    year,
    month,
    day,
    hours,
    minutes,
    dayOfWeekStr
  } = getTime()

  const items = shuffle(BOOK_NAMES).filter(_ => Math.random() < .2)
  if(items.length == 0) items.push(BOOK_NAMES[Math.floor(Math.random() * BOOK_NAMES.length)])

  let sum = 0
  let cnt = 0

  const text = `


{image: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}


松本書店　東山店
TEL　01-1357-2468

{width:43;align:center}
|お買い上げ有難うございます
|またのご来店をお待ちしております
|なお、このレシートは架空の書店の
|レシートとなっております
|${pad2(year)}年${pad2(month)}月${pad2(day)}日（${dayOfWeekStr}）　${pad2(hours)}時${pad2(minutes)}分

取引レシート
営業日　${pad2(year)}年${pad2(month)}月${pad2(day)}日（${dayOfWeekStr}）

会員No. ${Math.round(Math.random()*1e+10)}

-
{text: nowrap}
${items.map((item) => {
  const val = Math.round(Math.random() * 10000)
  const num = Math.ceil(Math.pow(Math.random(), 3)*3)
  sum += val * num
  cnt += num
  return `
{align:left;border:none;width:5,*;}
|書 |${item} |
{align:right;border:none;width:*,11,5,6;}
| |${Math.round(Math.random()*1e+11)}     | ${num} | ${val.toLocaleString()}|`
}).join("")}
-
{border:none;width:10,*,5,6}
|小　計 | | ${cnt} | ${sum.toLocaleString()}|

{border:none;width:*}
|合　計（税込）　　　　　${zenkaku2Hankaku(sum.toLocaleString())}
|※内訳（税抜）　　　　　${zenkaku2Hankaku(Math.round(sum * (10/11)).toLocaleString())}
|　　（消費税）　　　　　　${zenkaku2Hankaku(Math.round(sum * (1/11)).toLocaleString())}
-

{code:arata matsumoto; option:code128,2,72,nohri}

_次回から使えるお得なクーポンです
11/05まで有効
  `

  return text
}
